!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).service=e()}(this,(function(){"use strict";const t=async(t,e,r=null)=>{let a;if(a=await fetch(t,{method:e,headers:{"Content-Type":"application/json"},body:r?JSON.stringify(r):null}),!a.ok){let t=await a.json();throw new Error(JSON.stringify(t))}const o=await a.json();return console.log("Dados recebidos:",o),o};var e=async(e,r=null)=>{try{return await t(e,"GET")}catch(t){throw t}},r=async(e,r)=>{try{return await t(e,"POST",r)}catch(t){throw t}},a=async(e,r)=>{try{return await t(e,"PUT",r)}catch(t){throw t}},o=async e=>{try{return await t(e,"DELETE")}catch(t){throw t}};var n={generateURL:function(){return"http://localhost:2337"}},i={async get(t,r){if(""===t)throw new Error("Parâmetro de rota para o serviço não definido. Por favor, chame restService antes.");let a;return t=s.get(t),a=r?await e(n.generateURL()+t):await e(n.generateURL()+t,r),console.log(a),a},async create(t,e){if(""===this.rota)throw new Error("Parâmetro de rota para o serviço não definido. Por favor, chame restService antes.");t=s.get(t);return await r(n.generateURL()+t,e)},async remove(t,e){t=s.get(t);return await o(n.generateURL()+t+"/"+e)},async update(t,e,r){t=s.get(t);return await a(n.generateURL()+t+"/"+e,r)}};const s=new Map;return s.set("animal","/api/animals"),s.set("condutor","api/condutor"),{getAnimal:async t=>i.get("animal",t),createAnimal:async t=>i.create("animal",t),getCondutor:async t=>i.get("condutor",t),createCondutor:async t=>i.create("condutor",t),async getUrl(){return this.getServidor(),"http://localhost:2337"},async getUrlApi(){return"LEDS"==this.getServidor()?"http://host.docker.internal:2337":"http://10.243.144.200:2337"},async getUrlAppSmith(){return"LEDS"==this.getServidor()?"http://localhost:2337":"http://201.62.46.82"},async getHostDocker(){return this.getServidor(),"http://host.docker.internal:2337"},getServidor(){var t=localStorage.getItem("SERVIDOR");return null!=t?"LEDS"==t?"LEDS":"PM":(localStorage.setItem("SERVIDOR","LEDS"),"LEDS")},setServidorLEDS(){localStorage.setItem("SERVIDOR","LEDS")},setServidorPM(){localStorage.setItem("SERVIDOR","PM")}}}));
