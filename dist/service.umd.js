!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).service=t()}(this,(function(){"use strict";const e=async(e,t,a=null)=>{let r;if(r=await fetch(e,{method:t,headers:{"Content-Type":"application/json"},body:a?JSON.stringify(a):null}),!r.ok){let e=await r.json();throw new Error(JSON.stringify(e))}const n=await r.json();return console.log("Dados recebidos:",n),n};var t=async(t,a=null)=>{try{return await e(t,"GET")}catch(e){throw e}},a=async(t,a)=>{try{return await e(t,"POST",a)}catch(e){throw e}},r=async(t,a)=>{try{return await e(t,"PUT",a)}catch(e){throw e}},n=async t=>{try{return await e(t,"DELETE")}catch(e){throw e}};var o={generateURL:function(){return"http://localhost:2337"}},i={async get(e,a){if(""===e)throw new Error("Parâmetro de rota para o serviço não definido. Por favor, chame restService antes.");let r;return e=c.get(e),r=a?await t(o.generateURL()+e):await t(o.generateURL()+e,a),console.log(r),r},async create(e,t){if(""===this.rota)throw new Error("Parâmetro de rota para o serviço não definido. Por favor, chame restService antes.");e=c.get(e);return await a(o.generateURL()+e,t)},async remove(e,t){e=c.get(e);return await n(o.generateURL()+e+"/"+t)},async update(e,t,a){e=c.get(e);return await r(o.generateURL()+e+"/"+t,a)}};const c=new Map;return c.set("animal","/api/animals"),c.set("condutor","api/condutor"),{getAnimal:async e=>i.get("animal",e),createAnimal:async e=>i.create("animal",e),getCondutor:async e=>i.get("condutor",e),createCondutor:async e=>i.create("condutor",e)}}));
